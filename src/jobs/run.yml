description: >
  A single, complete job to run.
executor: default

parameters:
  quality_check:
    description: This command check quality of code.
    type: boolean
    default: false
  image-name:
    type: string
    default: ""
  image-tag:
    type: string
    default: ${CIRCLE_SHA1}
  ecr-url:
    type: string
    default: 958549588201.dkr.ecr.us-east-1.amazonaws.com

steps:
  - quality
  - build_application:
      image-name: darwin-seguros/<< pipeline.parameters.image-name >>
      image-tag: << pipeline.parameters.image-tag >>
      ecr-url: << pipeline.parameters.ecr-url >>