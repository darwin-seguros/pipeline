description: >
  A single, complete job to run.
executor: default

parameters:
  image_name:
    type: string
    default: ""
  image_tag:
    type: string
    default: ${CIRCLE_SHA1}
  ecr_url:
    type: string
    default: 958549588201.dkr.ecr.us-east-1.amazonaws.com

steps:
  - quality
  - build_application:
      image_name: darwin-seguros/<< pipeline.parameters.image_name >>
      image_tag: << pipeline.parameters.image_tag >>
      ecr_url: << pipeline.parameters.ecr_url >>
